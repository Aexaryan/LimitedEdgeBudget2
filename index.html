<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MASTER PRODUCTION BUDGET INFOGRAPHIC</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d1117; /* Dark background */
            color: #c9d1d9; /* Light text */
        }
        .section-card {
            background-color: #161b22; /* Slightly lighter dark card */
            border: 1px solid #30363d;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .section-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 12px rgba(0, 0, 0, 0.4);
        }
        .progress-bar-bg {
            background-color: #30363d;
        }
        .progress-bar-fill {
            background-color: #2ea44f; /* Green accent color */
            transition: width 1s ease-out;
        }
        .production-detail-card {
            background-color: #21262d;
            height: 100%; /* Ensure cards are uniform height */
        }
        .sub-category-header {
            font-size: 0.9rem;
            color: #8b949e;
            font-weight: 600;
            margin-top: 10px;
            padding-top: 5px;
            border-top: 1px dashed #30363d;
        }
        .breakdown-list {
            margin-top: 8px;
            padding-left: 0;
            list-style: none;
        }
        .breakdown-list li {
            font-size: 0.75rem;
            color: #8b949e;
            display: flex;
            justify-content: space-between;
            padding-top: 2px;
        }
        .breakdown-list .breakdown-cost {
            font-weight: 500;
            color: #c9d1d9;
        }
    </style>
</head>
<body>

<div class="container mx-auto p-4 sm:p-8 lg:p-12">
    <header class="text-center mb-10">
        <h1 class="text-3xl sm:text-4xl lg:text-5xl font-extrabold text-[#2ea44f] mb-2">LIMIT EDGE ‚Äî MASTER PRODUCTION BUDGET (FINAL UPDATED WITH GYM RENTAL)</h1>
        <h2 class="text-xl sm:text-2xl font-light text-gray-400">Total Project Value: $546,250</h2>
        <div class="h-1 w-24 bg-gray-600 mx-auto mt-4 rounded-full"></div>
    </header>

    <!-- Grand Total -->
    <div class="section-card p-6 mb-10 rounded-xl text-center">
        <p class="text-lg font-semibold text-gray-400">GRAND TOTAL BUDGET ALLOCATION</p>
        <p class="text-5xl sm:text-6xl font-black text-white mt-2 mb-1">$546,250</p>
        <p class="text-xl font-bold text-[#2ea44f]">(100%)</p>
    </div>

    <!-- Main Category Overview -->
    <div class="mb-12">
        <h3 class="text-2xl font-bold text-gray-300 mb-6 border-b border-gray-700 pb-2">6 Major Budget Categories</h3>
        <div id="main-budget-bars" class="space-y-4">
            <!-- Bars will be inserted here by JavaScript -->
        </div>
    </div>

    <!-- Detailed Breakdowns for 1, 3, 4, 5, 6 -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        
        <!-- 1. Pre-Production Details -->
        <div class="lg:col-span-1">
            <h3 class="text-xl font-bold text-gray-300 mb-4 border-b border-gray-700 pb-2">1. Pre-Production ($33,000 / 6.04%)</h3>
            <p class="text-sm text-gray-500 mb-3">Full 2-3 weeks planning phase before shooting begins.</p>
            <div class="section-card p-4 rounded-lg space-y-2">
                
                <!-- 1.1 CREATIVE DEVELOPMENT -->
                <div class="sub-category-header">1.1 CREATIVE DEVELOPMENT ($6,500 / 1.19%)</div>
                <div class="flex justify-between text-sm">
                    <span class="text-gray-400 pl-2">Concept + Show Structure</span>
                    <span class="font-medium text-white">$2,500 <span class="text-xs text-[#2ea44f]">(0.46%)</span></span>
                </div>
                <div class="flex justify-between text-sm">
                    <span class="text-gray-400 pl-2">Episode Format Design (30 eps)</span>
                    <span class="font-medium text-white">$1,500 <span class="text-xs text-[#2ea44f]">(0.27%)</span></span>
                </div>
                <div class="flex justify-between text-sm">
                    <span class="text-gray-400 pl-2">Challenge Design (water/endurance)</span>
                    <span class="font-medium text-white">$2,500 <span class="text-xs text-[#2ea44f]">(0.46%)</span></span>
                </div>
                
                <!-- 1.2 CASTING -->
                <div class="sub-category-header">1.2 CASTING ($2,000 / 0.37%)</div>
                 <div class="flex justify-between text-sm">
                    <span class="text-gray-400 pl-2">Athletes Casting</span>
                    <span class="font-medium text-white">$1,000 <span class="text-xs text-[#2ea44f]">(0.18%)</span></span>
                </div>
                 <div class="flex justify-between text-sm">
                    <span class="text-gray-400 pl-2">Host Casting</span>
                    <span class="font-medium text-white">$500 <span class="text-xs text-[#2ea44f]">(0.09%)</span></span>
                </div>
                
                <!-- 1.3 LOCATION SCOUTING -->
                <div class="sub-category-header">1.3 LOCATION SCOUTING ($6,000 / 1.10%)</div>
                 <div class="flex justify-between text-sm">
                    <span class="text-gray-400 pl-2">Travel (Spain scouting)</span>
                    <span class="font-medium text-white">$3,500 <span class="text-xs text-[#2ea44f]">(0.64%)</span></span>
                </div>
                
                <!-- 1.4 SET / OBSTACLE ENGINEERING -->
                <div class="sub-category-header">1.4 SET / OBSTACLE ENGINEERING ($12,000 / 2.20%)</div>
                 <div class="flex justify-between text-sm">
                    <span class="text-gray-400 pl-2">Water Challenge Engineering</span>
                    <span class="font-medium text-white">$4,000 <span class="text-xs text-[#2ea44f]">(0.73%)</span></span>
                </div>
                 <div class="flex justify-between text-sm">
                    <span class="text-gray-400 pl-2">Construction Material</span>
                    <span class="font-medium text-white">$5,000 <span class="text-xs text-[#2ea44f]">(0.92%)</span></span>
                </div>
                
                <!-- 1.5 ADMIN, PLANNING, SCHEDULING -->
                <div class="sub-category-header">1.5 ADMIN, PLANNING, SCHEDULING ($3,500 / 0.64%)</div>
                 <div class="flex justify-between text-sm">
                    <span class="text-gray-400 pl-2">Production Planning Meetings</span>
                    <span class="font-medium text-white">$1,200 <span class="text-xs text-[#2ea44f]">(0.22%)</span></span>
                </div>
            </div>
        </div>

        <!-- 3. Post-Production & 6. Contingency -->
        <div class="lg:col-span-1">
            <h3 class="text-xl font-bold text-gray-300 mb-4 border-b border-gray-700 pb-2">3. Post-Production ($163,800 / 30.00%)</h3>
            <p class="text-sm text-gray-500 mb-3">Finalizing 30 episodes for delivery.</p>
            <div class="section-card p-4 rounded-lg space-y-3">
                <div class="flex justify-between text-sm">
                    <span class="text-gray-400">Editing (Main Bulk)</span>
                    <span class="font-medium text-white">$90,000 <span class="text-xs text-[#2ea44f]">(16.48%)</span></span>
                </div>
                <div class="flex justify-between text-sm">
                    <span class="text-gray-400">Sound Editing & Mixing</span>
                    <span class="font-medium text-white">$24,000 <span class="text-xs text-[#2ea44f]">(4.39%)</span></span>
                </div>
                <div class="flex justify-between text-sm">
                    <span class="text-gray-400">Color Grading</span>
                    <span class="font-medium text-white">$21,000 <span class="text-xs text-[#2ea44f]">(3.84%)</span></span>
                </div>
                <div class="h-px bg-gray-700 my-4"></div>
                <div class="text-lg font-semibold text-[#2ea44f]">6. Contingency (Risk Fund) ($20,000 / 3.66%)</div>
                <div class="text-sm text-gray-500 mb-1">Covers unexpected costs, set at 3.66% of total.</div>
                <ul class="breakdown-list space-y-1">
                    <li><span class="breakdown-name">Weather-related delays</span><span class="breakdown-cost">$4,000</span></li>
                    <li><span class="breakdown-name">Equipment failure / replacements</span><span class="breakdown-cost">$3,000</span></li>
                    <li><span class="breakdown-name">Extra transport, fuel, or repairs</span><span class="breakdown-cost">$3,000</span></li>
                    <li><span class="breakdown-name">Unexpected crew overtime</span><span class="breakdown-cost">$3,000</span></li>
                </ul>
            </div>
        </div>

        <!-- 4. Marketing & 5. Legal -->
        <div class="lg:col-span-1">
            <h3 class="text-xl font-bold text-gray-300 mb-4 border-b border-gray-700 pb-2">4. Marketing & 5. Legal</h3>
            <div class="section-card p-4 rounded-lg space-y-3">
                
                <!-- 4. MARKETING & DISTRIBUTION -->
                <div class="text-lg font-semibold text-[#2ea44f]">4. Marketing & Distribution ($33,600 / 6.15%)</div>
                <div class="sub-category-header mt-0 border-t-0">4.1 PR & Media Buying ($15,000 / 2.75%)</div>
                <ul class="breakdown-list space-y-1">
                    <li><span class="breakdown-name">Press Release Preparation</span><span class="breakdown-cost">$2,500 <span class="text-xs text-[#2ea44f]">(0.46%)</span></span></li>
                    <li><span class="breakdown-name">Online Media Ad Placement</span><span class="breakdown-cost">$5,000 <span class="text-xs text-[#2ea44f]">(0.91%)</span></span></li>
                </ul>

                <div class="sub-category-header">4.2 Social Media Campaign ($8,000 / 1.46%)</div>
                <ul class="breakdown-list space-y-1">
                    <li><span class="breakdown-name">Instagram Ads / TikTok Ads</span><span class="breakdown-cost">$4,000 <span class="text-xs text-[#2ea44f]">(0.73%)</span></span></li>
                    <li><span class="breakdown-name">Influencer Promo Budget</span><span class="breakdown-cost">$1,500 <span class="text-xs text-[#2ea44f]">(0.27%)</span></span></li>
                </ul>

                <div class="h-px bg-gray-700 my-2"></div>
                
                <!-- 5. LEGAL & ACCOUNTING -->
                <div class="text-lg font-semibold text-[#2ea44f]">5. Legal & Accounting ($10,800 / 1.98%)</div>
                <div class="sub-category-header mt-0 border-t-0">5.1 Legal ($6,000 / 1.10%)</div>
                <ul class="breakdown-list space-y-1">
                    <li><span class="breakdown-name">Contract Drafting (Crew, Athletes, Host)</span><span class="breakdown-cost">$2,500 <span class="text-xs text-[#2ea44f]">(0.46%)</span></span></li>
                    <li><span class="breakdown-name">Release Forms (image, liability)</span><span class="breakdown-cost">$1,000 <span class="text-xs text-[#2ea44f]">(0.18%)</span></span></li>
                </ul>

                <div class="sub-category-header">5.2 Accounting ($4,800 / 0.88%)</div>
                <ul class="breakdown-list space-y-1">
                    <li><span class="breakdown-name">Accountant / Production Controller</span><span class="breakdown-cost">$3,000 <span class="text-xs text-[#2ea44f]">(0.55%)</span></span></li>
                    <li><span class="breakdown-name">Payroll Management</span><span class="breakdown-cost">$1,000 <span class="text-xs text-[#2ea44f]">(0.18%)</span></span></li>
                </ul>
            </div>
        </div>
    </div>

    <!-- 2. Production Details (The largest segment) -->
    <div class="mt-12">
        <h3 class="text-2xl font-bold text-gray-300 mb-6 border-b border-yellow-500 pb-2">2. PRODUCTION: THE CORE EXPENDITURE ($285,050 / 52.19%)</h3>
        <p class="text-gray-400 mb-6">28 days of full operation, including the new Gym Rental cost.</p>
        <div id="production-details" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            <!-- Production details will be inserted here by JavaScript -->
        </div>
    </div>

</div>

<script>
    // Budget data structure updated for $546,250 total
    const TOTAL_BUDGET = 546250;

    const budgetData = [
        { name: '1. PRE-PRODUCTION', cost: 33000, percentage: (33000 / TOTAL_BUDGET) * 100 }, // 6.04%
        { name: '2. PRODUCTION', cost: 285050, percentage: (285050 / TOTAL_BUDGET) * 100 }, // 52.19%
        { name: '3. POST-PRODUCTION (30 Episodes)', cost: 163800, percentage: (163800 / TOTAL_BUDGET) * 100 }, // 30.00%
        { name: '4. MARKETING & DISTRIBUTION', cost: 33600, percentage: (33600 / TOTAL_BUDGET) * 100 }, // 6.15%
        { name: '5. LEGAL & ACCOUNTING', cost: 10800, percentage: (10800 / TOTAL_BUDGET) * 100 }, // 1.98%
        { name: '6. CONTINGENCY', cost: 20000, percentage: (20000 / TOTAL_BUDGET) * 100 }, // 3.66%
    ];

    const formatter = new Intl.NumberFormat('en-US', {
        style: 'currency',
        currency: 'USD',
        minimumFractionDigits: 0,
        maximumFractionDigits: 0,
    });
    
    // --- Detailed Production Data (17 Items) ---
    const productionItems = [
        // 2.1
        { item: '2.1 HOST FEES', cost: 61700, percentage: 11.29, icon: 'üé§', 
          breakdown: [
            { name: 'Anchor presenter (fixed salary)', cost: 61700, perc: 11.29 }
          ]
        },
        // 2.2
        { item: '2.2 COMPETITOR FEES', cost: 24000, percentage: 4.39, icon: 'üèÉ', 
          breakdown: [
            { name: '12 athletes √ó $500/wk √ó 4 weeks', cost: 24000, perc: 4.39 }
          ]
        },
        // 2.3
        { item: '2.3 DIRECTORIAL & CREATIVE', cost: 24080, percentage: 4.41, icon: 'üí°', 
          breakdown: [
            { name: 'Director', cost: 7000, perc: 1.28 },
            { name: 'Producer / Showrunner', cost: 7000, perc: 1.28 },
            { name: 'Script Writer / Assistant', cost: 5040, perc: 0.92 },
            { name: 'Production Manager', cost: 5040, perc: 0.92 },
          ]
        },
        // 2.4
        { item: '2.4 CAMERA DEPARTMENT', cost: 52640, percentage: 9.64, icon: 'üé•', 
          breakdown: [
            { name: '4√ó Camera Operators', cost: 39200, perc: 7.17 },
            { name: 'Focus Puller', cost: 5040, perc: 0.92 },
            { name: 'GoPro/Gimbal Tech', cost: 4200, perc: 0.77 },
            { name: 'DIT / Media Manager', cost: 4200, perc: 0.77 },
          ]
        },
        // 2.5
        { item: '2.5 DRONE UNIT', cost: 10080, percentage: 1.84, icon: 'üöÅ', 
          breakdown: [
            { name: 'Drone Pilot', cost: 8400, perc: 1.54 },
            { name: 'Spotter', cost: 1680, perc: 0.30 },
          ]
        },
        // 2.6
        { item: '2.6 SOUND DEPARTMENT', cost: 12040, percentage: 2.20, icon: 'üîä', 
          breakdown: [
            { name: 'Sound Recordist', cost: 7840, perc: 1.44 },
            { name: 'Boom Operator', cost: 4200, perc: 0.77 },
          ]
        },
        // 2.7
        { item: '2.7 PRODUCTION STAFF', cost: 15680, percentage: 2.87, icon: 'üßë‚Äçüíª', 
          breakdown: [
            { name: 'Floor Manager / AD', cost: 4480, perc: 0.82 },
            { name: '2√ó PAs', cost: 5600, perc: 1.02 },
            { name: '2√ó Drivers / Runners', cost: 5600, perc: 1.02 },
          ]
        },
        // 2.8
        { item: '2.8 MAKEUP, SAFETY & MEDICAL', cost: 13670, percentage: 2.50, icon: '‚öïÔ∏è', 
          breakdown: [
            { name: 'Makeup Artist', cost: 2520, perc: 0.46 },
            { name: 'Lifeguard / Water Safety', cost: 3150, perc: 0.58 },
            { name: 'Paramedic', cost: 8000, perc: 1.46 },
          ]
        },
        // 2.9 (NEW)
        { item: '2.9 GYM RENTAL', cost: 10000, percentage: 1.83, icon: 'üèãÔ∏è', 
          breakdown: [
            { name: '10 days access to training facility', cost: 10000, perc: 1.83 }
          ]
        },
        // 2.10 (Shifted from 2.9)
        { item: '2.10 ACCOMMODATION', cost: 30000, percentage: 5.49, icon: 'üè†', 
          breakdown: [
            { name: '25 people √ó 28 days discounted villa/hotel', cost: 30000, perc: 5.49 }
          ]
        },
        // 2.11 (Shifted from 2.10)
        { item: '2.11 CATERING', cost: 22400, percentage: 4.10, icon: 'üçΩÔ∏è', 
          breakdown: [
            { name: '25‚Äì30 crew & athletes √ó ‚Ç¨30/day', cost: 22400, perc: 4.10 }
          ]
        },
        // 2.12 (Shifted from 2.11)
        { item: '2.12 TRANSPORTATION', cost: 25000, percentage: 4.57, icon: 'üöå', 
          breakdown: [
            { name: 'Vans (x2)', cost: 9000, perc: 1.65 },
            { name: 'Fuel (28 days)', cost: 4500, perc: 0.82 },
            { name: 'Logistics Truck', cost: 6500, perc: 1.19 },
          ]
        },
        // 2.13 (Shifted from 2.12)
        { item: '2.13 EQUIPMENT RENTAL', cost: 40000, percentage: 7.33, icon: '‚öôÔ∏è', 
          breakdown: [
            { name: 'Cameras + Lenses', cost: 18000, perc: 3.29 },
            { name: 'Audio Gear', cost: 4500, perc: 0.82 },
            { name: 'Drone Rental', cost: 8000, perc: 1.46 },
            { name: 'GoPros / Action Gear', cost: 3000, perc: 0.55 },
          ]
        },
        // 2.14 (Shifted from 2.13 - Retaining old cost/recalculated new percentage)
        { item: '2.14 INSURANCE & PERMITS', cost: 12000, percentage: (12000 / TOTAL_BUDGET) * 100, icon: 'üìÑ', 
          breakdown: [
            { name: 'Liability Insurance', cost: 5000, perc: 0.92 },
            { name: 'Beach/Water Filming Permits', cost: 3500, perc: 0.64 },
            { name: 'Municipal Fees', cost: 2500, perc: 0.46 },
          ]
        },
        // 2.15 (Shifted from 2.14 - Retaining old cost/recalculated new percentage)
        { item: '2.15 BASECAMP / PRODUCTION OFFICE', cost: 2500, percentage: (2500 / TOTAL_BUDGET) * 100, icon: '‚õ∫', 
          breakdown: [
            { name: 'Tents, tables, chairs, shade, generator', cost: 2500, perc: 0.46 }
          ]
        },
        // 2.16 (Shifted from 2.15 - Retaining old cost/recalculated new percentage)
        { item: '2.16 DATA STORAGE / BACKUP', cost: 3300, percentage: (3300 / TOTAL_BUDGET) * 100, icon: 'üíæ', 
          breakdown: [
            { name: 'Up to 40 TB + cloud redundancy', cost: 3300, perc: 0.60 }
          ]
        },
        // 2.17 (Shifted from 2.16 - Retaining old cost/recalculated new percentage)
        { item: '2.17 MISC. PRODUCTION', cost: 12900, percentage: (12900 / TOTAL_BUDGET) * 100, icon: 'üí∞', 
          breakdown: [
            { name: 'Props', cost: 3000, perc: 0.55 },
            { name: 'Obstacle Repairs', cost: 4000, perc: 0.73 },
            { name: 'Media Cards / Batteries', cost: 2400, perc: 0.44 },
            { name: 'Emergency Purchases', cost: 3500, perc: 0.64 },
          ]
        },
    ];

    /**
     * Renders a progress bar component.
     */
    function renderBar(name, cost, percentage, barColor = 'bg-[#2ea44f]') {
        const costStr = formatter.format(cost);
        const percentStr = `${percentage.toFixed(2)}%`;
        const widthStyle = `width: ${Math.min(percentage, 100)}%;`; // Cap at 100%

        const barHtml = `
            <div class="section-card p-4 rounded-lg">
                <div class="flex justify-between items-center mb-1">
                    <span class="text-base font-semibold text-gray-200">${name}</span>
                    <div class="text-right">
                        <span class="text-lg font-bold text-white">${costStr}</span>
                        <span class="text-sm font-semibold text-[#2ea44f] ml-2">${percentStr}</span>
                    </div>
                </div>
                <div class="progress-bar-bg h-3 rounded-full overflow-hidden">
                    <div class="progress-bar-fill h-full rounded-full ${barColor}" style="${widthStyle}"></div>
                </div>
            </div>
        `;
        return barHtml;
    }

    /**
     * Renders the nested breakdown list.
     */
    function renderBreakdownList(breakdown) {
        if (!breakdown || breakdown.length === 0) return '';
        
        const listItems = breakdown.map(item => `
            <li>
                <span class="breakdown-name">${item.name}</span>
                <span class="breakdown-cost">${formatter.format(item.cost)} <span class="text-[#2ea44f]">(${item.perc.toFixed(2)}%)</span></span>
            </li>
        `).join('');

        return `<ul class="breakdown-list space-y-1 mt-3">${listItems}</ul>`;
    }

    /**
     * Renders a detailed card for a single production sub-item.
     */
    function renderDetailCard(itemData) {
        const costStr = formatter.format(itemData.cost);
        const percentStr = `${itemData.percentage.toFixed(2)}%`;
        const breakdownHtml = renderBreakdownList(itemData.breakdown);

        return `
            <div class="production-detail-card p-5 rounded-xl border border-gray-700 flex flex-col justify-between">
                <div>
                    <div class="flex items-center space-x-3 mb-2">
                        <span class="text-2xl">${itemData.icon}</span>
                        <h4 class="text-base font-bold text-gray-100">${itemData.item}</h4>
                    </div>
                    <p class="text-3xl font-extrabold text-yellow-400">${costStr}</p>
                    <p class="text-sm text-gray-400 font-medium">of Total Budget: <span class="text-[#2ea44f]">${percentStr}</span></p>
                </div>
                
                <!-- Detailed Breakdown -->
                ${breakdownHtml}
            </div>
        `;
    }

    // 1. Render Main Budget Bars
    const mainBudgetContainer = document.getElementById('main-budget-bars');
    const mainBarHtml = budgetData.map(data => {
        // Use yellow accent for the largest item (Production)
        const color = data.name.includes('PRODUCTION') && data.percentage > 50 ? 'bg-yellow-500' : 'bg-[#2ea44f]';
        return renderBar(data.name, data.cost, data.percentage, color);
    }).join('');
    mainBudgetContainer.innerHTML = mainBarHtml;

    // 2. Render Production Details (Sub-Items)
    const productionDetailsContainer = document.getElementById('production-details');

    const detailCardHtml = productionItems.map(item =>
        renderDetailCard(item)
    ).join('');

    productionDetailsContainer.innerHTML = detailCardHtml;
</script>

</body>
</html>
